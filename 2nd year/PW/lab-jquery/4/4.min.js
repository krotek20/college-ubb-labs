$(function () {
    function OrderBy(a, b) {
        if (a < b) return -1;
        if (a > b) return 1;
        return 0;
    }
    $("th").click(function () {
        const $th = $(this).closest("th").toggleClass("direction");
        const $table = $th.closest("table");
        const column = $th.index();
        const $rows = $table.find("tbody > tr");
        $rows.sort(function (rowA, rowB) {
            const keyA = $(rowA).children("td").eq(column).text().toLowerCase();
            const keyB = $(rowB).children("td").eq(column).text().toLowerCase();
            if ($th.hasClass("direction")) return OrderBy(keyA, keyB);
            return OrderBy(keyB, keyA);
        });
        $.each($rows, function (index, row) {
            $table.children("tbody").append(row);
        });
    });
});