$(function() {
    const listSize = $("#list").children().length;
    let current = 0;
    let interval;

    function move() {
        $("#list").css("left", `-${current * 400}px`);
    }

    function moveBack() {
        current = (current + listSize - 1) % listSize;
        move();
    }

    function moveNext() {
        current = (current + listSize + 1) % listSize;
        move();
    }

    function createInterval() {
        if (interval) {
            clearInterval(interval);
        }
        interval = setInterval(moveNext, 3000);
    }

    createInterval();

    $("#back").click(function () {
        moveBack();
        createInterval();
    });

    $("#next").click(function () {
        moveNext();
        createInterval();
    });
});